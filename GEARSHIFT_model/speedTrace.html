<!DOCTYPE html>
<html lang="en">
<head>
    <style type="text/css">
        svg.on {
            border: 4px solid #008CFF;
            animation: blink-animation 1s linear;
            -webkit-animation: blink-animation 1s linear;
        }

        .node.on g:first-of-type a:first-child path:first-child {
            stroke: #008CFF;
            stroke-width: 4;
            animation: blink-animation 1s linear;
            -webkit-animation: blink-animation 1s linear;
        }

        .node.on g:first-of-type a:first-child polygon:first-child {
            stroke: #008CFF;
            stroke-width: 4;
            animation: blink-animation 1s linear;
            -webkit-animation: blink-animation 1s linear;
        }

        @keyframes blink-animation {
            to {
                stroke-width: 0;
                border-width: 0;
            }
        }

        @-webkit-keyframes blink-animation {
            to {
                stroke-width: 0;
                border-width: 0;
            }
        }

        .controls {
            background: #343a40;
            width: 100%;
        }

        .controls button {
            font-size: 18px;
            border: none;
            outline: none;
            background-color: transparent;
            color: #BBBBBB;
            cursor: pointer;
            border-radius: 0.25rem;
        }

        .controls button:hover {
            background-color: #555;
        }

        body {
            height: 100vh;
            width: 100vw;
            margin: 0;
        }

        #iframe {
            flex-grow: 1;
        }

        #index {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .sh-ico {
            display: inline-block;
            width: 18px;
            height: 18px;
            margin-left: 8px;
            padding-top: 3px;
            vertical-align: middle;
            content: "";
            background: no-repeat center center;
            background-size: 100% 100%;
        }

        .sh-ico-compress {
            background-image: url("data:image/svg+xml;charset=utf8,%3Csvg fill='none' height='24' stroke='%23BBBBBB' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3'/%3E%3C/svg%3E");
        }

        .sh-ico-expand {
            background-image: url("data:image/svg+xml;charset=utf8,%3Csvg fill='none' height='24' stroke='%23BBBBBB' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3'/%3E%3C/svg%3E");
        }
    </style>
</head>
<body onload="_onload()">
<div id="index" style="display: none; height: 100%">
    <div class="controls">
        <button id="btnFullScreen" class="sh-ico sh-ico-expand"
                style="display: none"
                onclick="FullScreen()"
                title="Enter/Exit Full Screen">
        </button>
        <button id="btnBack" onclick="onBack(event)" title="Go back">
            &lt;
        </button>
        <button id="btnForward" onclick="onForward(event)" title="Go forward">
            &gt;
        </button>
    </div>
    <iframe id="iframe" allowfullscreen frameborder="0"></iframe>
</div>
<div id="content" style="display: none"> <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: dmap Pages: 1 -->
<svg width="2488pt" height="1075pt"
 viewBox="0.00 0.00 2488.00 1075.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1071)">
<title>dmap</title>
<text text-anchor="middle" x="1240" y="-7.8" font-family="Times New Roman,serif" font-size="14.00">dmap</text>
<!-- 415 -->
<g id="41" class="node">
<title>415</title>
<g id="a_41"><a xlink:title="&quot;Specifies it the trace shall be compensated for distance due to capped speeds.&quot;">
<path fill="cyan" stroke="black" d="M700,-347C700,-347 540,-347 540,-347 534,-347 528,-341 528,-335 528,-335 528,-323 528,-323 528,-317 534,-311 540,-311 540,-311 700,-311 700,-311 706,-311 712,-317 712,-323 712,-323 712,-335 712,-335 712,-341 706,-347 700,-347"/>
<text text-anchor="start" x="538" y="-324.8" font-family="Times New Roman,serif" font-size="14.00">ApplyDistanceCompensation</text>
</a>
</g>
</g>
<!-- 440 -->
<g id="40" class="node">
<title>440</title>
<g id="a_40"><a xlink:title="&quot;A capped trace may need compensations to achieve the same distance as for the original trace.&quot;">
<polygon fill="springgreen" stroke="black" points="681,-275 559,-275 559,-239 681,-239 681,-275"/>
<g id="a_40_0"><a xlink:href="./speedTrace/compensate_trace.html" xlink:title="&quot;A capped trace may need compensations to achieve the same distance as for the original trace.&quot;">
<text text-anchor="start" x="569" y="-252.8" font-family="Times New Roman,serif" font-size="14.00">compensate_trace</text>
</a>
</g>
</a>
</g>
</g>
<!-- 415&#45;&gt;440 -->
<g id="edge70" class="edge">
<title>415&#45;&gt;440</title>
<path fill="none" stroke="black" d="M620,-310.83C620,-310.83 620,-285.41 620,-285.41"/>
<polygon fill="black" stroke="black" points="623.5,-285.41 620,-275.41 616.5,-285.41 623.5,-285.41"/>
</g>
<!-- 416 -->
<g id="28" class="node">
<title>416</title>
<g id="a_28"><a xlink:title="&quot;Specifies if the trace shall be downscaled.&quot;">
<path fill="cyan" stroke="black" d="M1598,-635C1598,-635 1494,-635 1494,-635 1488,-635 1482,-629 1482,-623 1482,-623 1482,-611 1482,-611 1482,-605 1488,-599 1494,-599 1494,-599 1598,-599 1598,-599 1604,-599 1610,-605 1610,-611 1610,-611 1610,-623 1610,-623 1610,-629 1604,-635 1598,-635"/>
<text text-anchor="start" x="1492.5" y="-612.8" font-family="Times New Roman,serif" font-size="14.00">ApplyDownscaling</text>
</a>
</g>
</g>
<!-- 444 -->
<g id="17" class="node">
<title>444</title>
<g id="a_17"><a xlink:title="&quot;Downscaling applies to very low powered class 1 vehicles or vehicles with power to mass ratios close to class &#160;&#160;&#160;&#160;borderlines, thus causing driveability issues.&quot;">
<polygon fill="springgreen" stroke="black" points="1513,-563 1399,-563 1399,-527 1513,-527 1513,-563"/>
<g id="a_17_1"><a xlink:href="./speedTrace/downscale_trace.html" xlink:title="&quot;Downscaling applies to very low powered class 1 vehicles or vehicles with power to mass ratios close to class &#160;&#160;&#160;&#160;borderlines, thus causing driveability issues.&quot;">
<text text-anchor="start" x="1409" y="-540.8" font-family="Times New Roman,serif" font-size="14.00">downscale_trace</text>
</a>
</g>
</a>
</g>
</g>
<!-- 416&#45;&gt;444 -->
<g id="edge49" class="edge">
<title>416&#45;&gt;444</title>
<path fill="none" stroke="black" d="M1497.5,-598.83C1497.5,-598.83 1497.5,-573.41 1497.5,-573.41"/>
<polygon fill="black" stroke="black" points="1501,-573.41 1497.5,-563.41 1494,-573.41 1501,-573.41"/>
</g>
<!-- 417 -->
<g id="36" class="node">
<title>417</title>
<g id="a_36"><a xlink:title="&quot;Specifies if the trace shall be capped to the given CappedSpeed.&quot;">
<path fill="cyan" stroke="black" d="M477,-491C477,-491 387,-491 387,-491 381,-491 375,-485 375,-479 375,-479 375,-467 375,-467 375,-461 381,-455 387,-455 387,-455 477,-455 477,-455 483,-455 489,-461 489,-467 489,-467 489,-479 489,-479 489,-485 483,-491 477,-491"/>
<text text-anchor="start" x="385" y="-468.8" font-family="Times New Roman,serif" font-size="14.00">ApplySpeedCap</text>
</a>
</g>
</g>
<!-- 436 -->
<g id="35" class="node">
<title>436</title>
<g id="a_35"><a xlink:title="&quot;Speed cap applies to vehicles that are technically able to follow the given trace, but whose maximum speed &#160;&#160;&#160;&#160;is limited to a value lower than the maximum speed of that trace.&quot;">
<polygon fill="springgreen" stroke="black" points="470,-419 394,-419 394,-383 470,-383 470,-419"/>
<g id="a_35_2"><a xlink:href="./speedTrace/cap_trace.html" xlink:title="&quot;Speed cap applies to vehicles that are technically able to follow the given trace, but whose maximum speed &#160;&#160;&#160;&#160;is limited to a value lower than the maximum speed of that trace.&quot;">
<text text-anchor="start" x="404.5" y="-396.8" font-family="Times New Roman,serif" font-size="14.00">cap_trace</text>
</a>
</g>
</a>
</g>
</g>
<!-- 417&#45;&gt;436 -->
<g id="edge59" class="edge">
<title>417&#45;&gt;436</title>
<path fill="none" stroke="black" d="M432,-454.83C432,-454.83 432,-429.41 432,-429.41"/>
<polygon fill="black" stroke="black" points="435.5,-429.41 432,-419.41 428.5,-429.41 435.5,-429.41"/>
</g>
<!-- 418 -->
<g id="37" class="node">
<title>418</title>
<g id="a_37"><a xlink:title="&quot;The maximum speed of vehicles, which are technically able to follow the speed of the given trace but are not &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;able to reach the maximum speed of that trace.&quot;">
<path fill="cyan" stroke="black" d="M342,-491C342,-491 266,-491 266,-491 260,-491 254,-485 254,-479 254,-479 254,-467 254,-467 254,-461 260,-455 266,-455 266,-455 342,-455 342,-455 348,-455 354,-461 354,-467 354,-467 354,-479 354,-479 354,-485 348,-491 342,-491"/>
<text text-anchor="start" x="264" y="-468.8" font-family="Times New Roman,serif" font-size="14.00">CappedSpeed</text>
</a>
</g>
</g>
<!-- 418&#45;&gt;436 -->
<g id="edge60" class="edge">
<title>418&#45;&gt;436</title>
<path fill="none" stroke="black" d="M320,-454.83C320,-433.5 320,-401 320,-401 320,-401 383.77,-401 383.77,-401"/>
<polygon fill="black" stroke="black" points="383.77,-404.5 393.77,-401 383.77,-397.5 383.77,-404.5"/>
</g>
<!-- 418&#45;&gt;440 -->
<g id="edge61" class="edge">
<title>418&#45;&gt;440</title>
<path fill="none" stroke="black" d="M270,-454.75C270,-403 270,-259 270,-259 270,-259 548.63,-259 548.63,-259"/>
<polygon fill="black" stroke="black" points="548.63,-262.5 558.63,-259 548.63,-255.5 548.63,-262.5"/>
</g>
<!-- 419 -->
<g id="22" class="node">
<title>419</title>
<g id="a_22"><a xlink:title="&quot;The degree of downscaling.&quot;">
<path fill="cyan" stroke="black" d="M2006,-635C2006,-635 1876,-635 1876,-635 1870,-635 1864,-629 1864,-623 1864,-623 1864,-611 1864,-611 1864,-605 1870,-599 1876,-599 1876,-599 2006,-599 2006,-599 2012,-599 2018,-605 2018,-611 2018,-611 2018,-623 2018,-623 2018,-629 2012,-635 2006,-635"/>
<text text-anchor="start" x="1874.5" y="-612.8" font-family="Times New Roman,serif" font-size="14.00">DownscalingPercentage</text>
</a>
</g>
</g>
<!-- 419&#45;&gt;444 -->
<g id="edge43" class="edge">
<title>419&#45;&gt;444</title>
<path fill="none" stroke="black" d="M1941,-598.97C1941,-579.42 1941,-551 1941,-551 1941,-551 1523.06,-551 1523.06,-551"/>
<polygon fill="black" stroke="black" points="1523.06,-547.5 1513.06,-551 1523.06,-554.5 1523.06,-547.5"/>
</g>
<!-- 420 -->
<g id="6" class="node">
<title>420</title>
<g id="a_6"><a xlink:title="&quot;Contains the lengths of the different phases.&quot;">
<path fill="cyan" stroke="black" d="M969,-491C969,-491 895,-491 895,-491 889,-491 883,-485 883,-479 883,-479 883,-467 883,-467 883,-461 889,-455 895,-455 895,-455 969,-455 969,-455 975,-455 981,-461 981,-467 981,-467 981,-479 981,-479 981,-485 975,-491 969,-491"/>
<text text-anchor="start" x="893" y="-468.8" font-family="Times New Roman,serif" font-size="14.00">PhaseLengths</text>
</a>
</g>
</g>
<!-- 420&#45;&gt;440 -->
<g id="edge18" class="edge">
<title>420&#45;&gt;440</title>
<path fill="none" stroke="black" d="M882.98,-473C857.25,-473 831,-473 831,-473 831,-473 831,-259 831,-259 831,-259 691.03,-259 691.03,-259"/>
<polygon fill="black" stroke="black" points="691.03,-255.5 681.03,-259 691.03,-262.5 691.03,-255.5"/>
</g>
<!-- 452 -->
<g id="48" class="node">
<title>452</title>
<g id="a_48"><a xlink:title="&quot;This function creates a dictionary with the final results of the Scale trace&quot;">
<polygon fill="springgreen" stroke="black" points="1091,-131 949,-131 949,-95 1091,-95 1091,-131"/>
<g id="a_48_3"><a xlink:href="./speedTrace/generate_speed_trace.html" xlink:title="&quot;This function creates a dictionary with the final results of the Scale trace&quot;">
<text text-anchor="start" x="959.5" y="-108.8" font-family="Times New Roman,serif" font-size="14.00">generate_speed_trace</text>
</a>
</g>
</a>
</g>
</g>
<!-- 420&#45;&gt;452 -->
<g id="edge19" class="edge">
<title>420&#45;&gt;452</title>
<path fill="none" stroke="black" d="M981.15,-473C1007.45,-473 1034.5,-473 1034.5,-473 1034.5,-473 1034.5,-141.35 1034.5,-141.35"/>
<polygon fill="black" stroke="black" points="1038,-141.35 1034.5,-131.35 1031,-141.35 1038,-141.35"/>
</g>
<!-- 453 -->
<g id="5" class="node">
<title>453</title>
<g id="a_5"><a xlink:title="&quot;This function determines the starts and ends of different phases of the whole cycles.&quot;">
<polygon fill="springgreen" stroke="black" points="986,-419 878,-419 878,-383 986,-383 986,-419"/>
<g id="a_5_4"><a xlink:href="./speedTrace/identify_phases.html" xlink:title="&quot;This function determines the starts and ends of different phases of the whole cycles.&quot;">
<text text-anchor="start" x="888" y="-396.8" font-family="Times New Roman,serif" font-size="14.00">identify_phases</text>
</a>
</g>
</a>
</g>
</g>
<!-- 420&#45;&gt;453 -->
<g id="edge17" class="edge">
<title>420&#45;&gt;453</title>
<path fill="none" stroke="black" d="M948.33,-454.83C948.33,-454.83 948.33,-429.41 948.33,-429.41"/>
<polygon fill="black" stroke="black" points="951.83,-429.41 948.33,-419.41 944.83,-429.41 951.83,-429.41"/>
</g>
<!-- 421 -->
<g id="23" class="node">
<title>421</title>
<g id="a_23"><a xlink:title="&quot;The maximum rated engine required&quot;">
<path fill="cyan" stroke="black" d="M2152,-635C2152,-635 2048,-635 2048,-635 2042,-635 2036,-629 2036,-623 2036,-623 2036,-611 2036,-611 2036,-605 2042,-599 2048,-599 2048,-599 2152,-599 2152,-599 2158,-599 2164,-605 2164,-611 2164,-611 2164,-623 2164,-623 2164,-629 2158,-635 2152,-635"/>
<text text-anchor="start" x="2046.5" y="-612.8" font-family="Times New Roman,serif" font-size="14.00">RatedEnginePower</text>
</a>
</g>
</g>
<!-- 421&#45;&gt;444 -->
<g id="edge44" class="edge">
<title>421&#45;&gt;444</title>
<path fill="none" stroke="black" d="M2100,-598.71C2100,-576.79 2100,-543 2100,-543 2100,-543 1523.15,-543 1523.15,-543"/>
<polygon fill="black" stroke="black" points="1523.15,-539.5 1513.15,-543 1523.15,-546.5 1523.15,-539.5"/>
</g>
<!-- 422 -->
<g id="27" class="node">
<title>422</title>
<g id="a_27"><a xlink:title="&quot;Represents a strings, that denotes the algorithm to use for the specific segment.&quot;">
<path fill="cyan" stroke="black" d="M2294,-635C2294,-635 2194,-635 2194,-635 2188,-635 2182,-629 2182,-623 2182,-623 2182,-611 2182,-611 2182,-605 2188,-599 2194,-599 2194,-599 2294,-599 2294,-599 2300,-599 2306,-605 2306,-611 2306,-611 2306,-623 2306,-623 2306,-629 2300,-635 2294,-635"/>
<text text-anchor="start" x="2192.5" y="-612.8" font-family="Times New Roman,serif" font-size="14.00">ScalingAlgorithms</text>
</a>
</g>
</g>
<!-- 422&#45;&gt;444 -->
<g id="edge48" class="edge">
<title>422&#45;&gt;444</title>
<path fill="none" stroke="black" d="M2244,-598.91C2244,-575.87 2244,-539 2244,-539 2244,-539 1523.31,-539 1523.31,-539"/>
<polygon fill="black" stroke="black" points="1523.31,-535.5 1513.31,-539 1523.31,-542.5 1523.31,-535.5"/>
</g>
<!-- 423 -->
<g id="25" class="node">
<title>423</title>
<g id="a_25"><a xlink:title="&quot;Contains the times to begin the scaling correction at in seconds.&quot;">
<path fill="cyan" stroke="black" d="M2468,-635C2468,-635 2336,-635 2336,-635 2330,-635 2324,-629 2324,-623 2324,-623 2324,-611 2324,-611 2324,-605 2330,-599 2336,-599 2336,-599 2468,-599 2468,-599 2474,-599 2480,-605 2480,-611 2480,-611 2480,-623 2480,-623 2480,-629 2474,-635 2468,-635"/>
<text text-anchor="start" x="2334" y="-612.8" font-family="Times New Roman,serif" font-size="14.00">ScalingCorrectionTimes</text>
</a>
</g>
</g>
<!-- 423&#45;&gt;444 -->
<g id="edge46" class="edge">
<title>423&#45;&gt;444</title>
<path fill="none" stroke="black" d="M2402,-598.8C2402,-574.64 2402,-535 2402,-535 2402,-535 1523.05,-535 1523.05,-535"/>
<polygon fill="black" stroke="black" points="1523.05,-531.5 1513.05,-535 1523.05,-538.5 1523.05,-531.5"/>
</g>
<!-- 424 -->
<g id="26" class="node">
<title>424</title>
<g id="a_26"><a xlink:title="&quot;Contains the end times of the segments to scale in seconds.&quot;">
<path fill="cyan" stroke="black" d="M878,-635C878,-635 784,-635 784,-635 778,-635 772,-629 772,-623 772,-623 772,-611 772,-611 772,-605 778,-599 784,-599 784,-599 878,-599 878,-599 884,-599 890,-605 890,-611 890,-611 890,-623 890,-623 890,-629 884,-635 878,-635"/>
<text text-anchor="start" x="782" y="-612.8" font-family="Times New Roman,serif" font-size="14.00">ScalingEndTimes</text>
</a>
</g>
</g>
<!-- 424&#45;&gt;444 -->
<g id="edge47" class="edge">
<title>424&#45;&gt;444</title>
<path fill="none" stroke="black" d="M886.5,-598.97C886.5,-578.23 886.5,-547 886.5,-547 886.5,-547 1388.79,-547 1388.79,-547"/>
<polygon fill="black" stroke="black" points="1388.79,-550.5 1398.79,-547 1388.79,-543.5 1388.79,-550.5"/>
</g>
<!-- 425 -->
<g id="24" class="node">
<title>425</title>
<g id="a_24"><a xlink:title="&quot;Contains the start times of the segments to scale in seconds.&quot;">
<path fill="cyan" stroke="black" d="M1018,-635C1018,-635 920,-635 920,-635 914,-635 908,-629 908,-623 908,-623 908,-611 908,-611 908,-605 914,-599 920,-599 920,-599 1018,-599 1018,-599 1024,-599 1030,-605 1030,-611 1030,-611 1030,-623 1030,-623 1030,-629 1024,-635 1018,-635"/>
<text text-anchor="start" x="918" y="-612.8" font-family="Times New Roman,serif" font-size="14.00">ScalingStartTimes</text>
</a>
</g>
</g>
<!-- 425&#45;&gt;444 -->
<g id="edge45" class="edge">
<title>425&#45;&gt;444</title>
<path fill="none" stroke="black" d="M1008,-598.97C1008,-579.42 1008,-551 1008,-551 1008,-551 1388.81,-551 1388.81,-551"/>
<polygon fill="black" stroke="black" points="1388.81,-554.5 1398.81,-551 1388.81,-547.5 1388.81,-554.5"/>
</g>
<!-- 426 -->
<g id="1" class="node">
<title>426</title>
<g id="a_1"><a xlink:title="&quot;Velocities and times from the phases of the WLTC cycle.&quot;">
<path fill="cyan" stroke="black" d="M759,-1067C759,-1067 729,-1067 729,-1067 723,-1067 717,-1061 717,-1055 717,-1055 717,-1043 717,-1043 717,-1037 723,-1031 729,-1031 729,-1031 759,-1031 759,-1031 765,-1031 771,-1037 771,-1043 771,-1043 771,-1055 771,-1055 771,-1061 765,-1067 759,-1067"/>
<text text-anchor="start" x="727.5" y="-1044.8" font-family="Times New Roman,serif" font-size="14.00">Trace</text>
</a>
</g>
</g>
<!-- 463 -->
<g id="0" class="node">
<title>463</title>
<g id="a_0"><a xlink:title="&quot;Re&#45;sample the trace in 1Hz.&quot;">
<polygon fill="springgreen" stroke="black" points="797,-995 691,-995 691,-959 797,-959 797,-995"/>
<g id="a_0_5"><a xlink:href="./speedTrace/resample_trace.html" xlink:title="&quot;Re&#45;sample the trace in 1Hz.&quot;">
<text text-anchor="start" x="701.5" y="-972.8" font-family="Times New Roman,serif" font-size="14.00">resample_trace</text>
</a>
</g>
</a>
</g>
</g>
<!-- 426&#45;&gt;463 -->
<g id="edge4" class="edge">
<title>426&#45;&gt;463</title>
<path fill="none" stroke="black" d="M744,-1030.83C744,-1030.83 744,-1005.41 744,-1005.41"/>
<polygon fill="black" stroke="black" points="747.5,-1005.41 744,-995.41 740.5,-1005.41 747.5,-1005.41"/>
</g>
<!-- 427 -->
<g id="21" class="node">
<title>427</title>
<g id="a_21"><a xlink:title="&quot;Boolean variable to check if is necessary calculates the downscaling factor&quot;">
<path fill="cyan" stroke="black" d="M1270,-635C1270,-635 1060,-635 1060,-635 1054,-635 1048,-629 1048,-623 1048,-623 1048,-611 1048,-611 1048,-605 1054,-599 1060,-599 1060,-599 1270,-599 1270,-599 1276,-599 1282,-605 1282,-611 1282,-611 1282,-623 1282,-623 1282,-629 1276,-635 1270,-635"/>
<text text-anchor="start" x="1058" y="-612.8" font-family="Times New Roman,serif" font-size="14.00">UseCalculatedDownscalingPercentage</text>
</a>
</g>
</g>
<!-- 427&#45;&gt;444 -->
<g id="edge42" class="edge">
<title>427&#45;&gt;444</title>
<path fill="none" stroke="black" d="M1220.5,-598.73C1220.5,-580.44 1220.5,-555 1220.5,-555 1220.5,-555 1388.99,-555 1388.99,-555"/>
<polygon fill="black" stroke="black" points="1388.99,-558.5 1398.99,-555 1388.99,-551.5 1388.99,-558.5"/>
</g>
<!-- 428 -->
<g id="12" class="node">
<title>428</title>
<g id="a_12"><a xlink:title="&quot;Vehicle test mass used during the cycle execution.&quot;">
<path fill="cyan" stroke="black" d="M2000,-779C2000,-779 1906,-779 1906,-779 1900,-779 1894,-773 1894,-767 1894,-767 1894,-755 1894,-755 1894,-749 1900,-743 1906,-743 1906,-743 2000,-743 2000,-743 2006,-743 2012,-749 2012,-755 2012,-755 2012,-767 2012,-767 2012,-773 2006,-779 2000,-779"/>
<text text-anchor="start" x="1904.5" y="-756.8" font-family="Times New Roman,serif" font-size="14.00">VehicleTestMass</text>
</a>
</g>
</g>
<!-- 434 -->
<g id="11" class="node">
<title>434</title>
<g id="a_11"><a xlink:title="&quot;Calculate required powers, following the P_req,max,i function in section 8.3.&quot;">
<polygon fill="springgreen" stroke="black" points="1863,-707 1691,-707 1691,-671 1863,-671 1863,-707"/>
<g id="a_11_6"><a xlink:href="./speedTrace/calculate_required_powers.html" xlink:title="&quot;Calculate required powers, following the P_req,max,i function in section 8.3.&quot;">
<text text-anchor="start" x="1701.5" y="-684.8" font-family="Times New Roman,serif" font-size="14.00">calculate_required_powers</text>
</a>
</g>
</a>
</g>
</g>
<!-- 428&#45;&gt;434 -->
<g id="edge28" class="edge">
<title>428&#45;&gt;434</title>
<path fill="none" stroke="black" d="M1953,-742.83C1953,-721.5 1953,-689 1953,-689 1953,-689 1873.2,-689 1873.2,-689"/>
<polygon fill="black" stroke="black" points="1873.2,-685.5 1863.2,-689 1873.2,-692.5 1873.2,-685.5"/>
</g>
<!-- 429 -->
<g id="19" class="node">
<title>429</title>
<g id="a_19"><a xlink:title="&quot;Factor to determine the downscaling factor&quot;">
<path fill="cyan" stroke="black" d="M1342,-635C1342,-635 1312,-635 1312,-635 1306,-635 1300,-629 1300,-623 1300,-623 1300,-611 1300,-611 1300,-605 1306,-599 1312,-599 1312,-599 1342,-599 1342,-599 1348,-599 1354,-605 1354,-611 1354,-611 1354,-623 1354,-623 1354,-629 1348,-635 1342,-635"/>
<text text-anchor="start" x="1320.5" y="-612.8" font-family="Times New Roman,serif" font-size="14.00">a1</text>
</a>
</g>
</g>
<!-- 429&#45;&gt;444 -->
<g id="edge40" class="edge">
<title>429&#45;&gt;444</title>
<path fill="none" stroke="black" d="M1349,-598.97C1349,-581.94 1349,-559 1349,-559 1349,-559 1388.74,-559 1388.74,-559"/>
<polygon fill="black" stroke="black" points="1388.74,-562.5 1398.74,-559 1388.74,-555.5 1388.74,-562.5"/>
</g>
<!-- 430 -->
<g id="10" class="node">
<title>430</title>
<g id="a_10"><a xlink:title="&quot;Accelerations from the whole WLTC cycles.&quot;">
<path fill="cyan" stroke="black" d="M1648,-779C1648,-779 1578,-779 1578,-779 1572,-779 1566,-773 1566,-767 1566,-767 1566,-755 1566,-755 1566,-749 1572,-743 1578,-743 1578,-743 1648,-743 1648,-743 1654,-743 1660,-749 1660,-755 1660,-755 1660,-767 1660,-767 1660,-773 1654,-779 1648,-779"/>
<text text-anchor="start" x="1576.5" y="-756.8" font-family="Times New Roman,serif" font-size="14.00">accelerations</text>
</a>
</g>
</g>
<!-- 430&#45;&gt;434 -->
<g id="edge25" class="edge">
<title>430&#45;&gt;434</title>
<path fill="none" stroke="black" d="M1635,-742.83C1635,-721.5 1635,-689 1635,-689 1635,-689 1680.71,-689 1680.71,-689"/>
<polygon fill="black" stroke="black" points="1680.71,-692.5 1690.71,-689 1680.71,-685.5 1680.71,-692.5"/>
</g>
<!-- 430&#45;&gt;444 -->
<g id="edge26" class="edge">
<title>430&#45;&gt;444</title>
<path fill="none" stroke="black" d="M1565.73,-761C1518.86,-761 1454,-761 1454,-761 1454,-761 1454,-573.04 1454,-573.04"/>
<polygon fill="black" stroke="black" points="1457.5,-573.04 1454,-563.04 1450.5,-573.04 1457.5,-573.04"/>
</g>
<!-- 431 -->
<g id="47" class="node">
<title>431</title>
<g id="a_47"><a xlink:title="&quot;The additional samples added to compensate the capped speed correction.&quot;">
<path fill="cyan" stroke="black" d="M670,-203C670,-203 572,-203 572,-203 566,-203 560,-197 560,-191 560,-191 560,-179 560,-179 560,-173 566,-167 572,-167 572,-167 670,-167 670,-167 676,-167 682,-173 682,-179 682,-179 682,-191 682,-191 682,-197 676,-203 670,-203"/>
<text text-anchor="start" x="570" y="-180.8" font-family="Times New Roman,serif" font-size="14.00">additionalSamples</text>
</a>
</g>
</g>
<!-- 431&#45;&gt;452 -->
<g id="edge76" class="edge">
<title>431&#45;&gt;452</title>
<path fill="none" stroke="black" d="M621,-166.97C621,-146.23 621,-115 621,-115 621,-115 938.67,-115 938.67,-115"/>
<polygon fill="black" stroke="black" points="938.67,-118.5 948.67,-115 938.67,-111.5 938.67,-118.5"/>
</g>
<!-- 432 -->
<g id="20" class="node">
<title>432</title>
<g id="a_20"><a xlink:title="&quot;Factor to determine the downscaling factor&quot;">
<path fill="cyan" stroke="black" d="M1414,-635C1414,-635 1384,-635 1384,-635 1378,-635 1372,-629 1372,-623 1372,-623 1372,-611 1372,-611 1372,-605 1378,-599 1384,-599 1384,-599 1414,-599 1414,-599 1420,-599 1426,-605 1426,-611 1426,-611 1426,-623 1426,-623 1426,-629 1420,-635 1414,-635"/>
<text text-anchor="start" x="1391.5" y="-612.8" font-family="Times New Roman,serif" font-size="14.00">b1</text>
</a>
</g>
</g>
<!-- 432&#45;&gt;444 -->
<g id="edge41" class="edge">
<title>432&#45;&gt;444</title>
<path fill="none" stroke="black" d="M1412.5,-598.83C1412.5,-598.83 1412.5,-573.41 1412.5,-573.41"/>
<polygon fill="black" stroke="black" points="1416,-573.41 1412.5,-563.41 1409,-573.41 1416,-573.41"/>
</g>
<!-- 433 -->
<g id="9" class="node">
<title>433</title>
<g id="a_9"><a xlink:title="&quot;Calculate accelerations.&quot;">
<polygon fill="springgreen" stroke="black" points="1687,-851 1539,-851 1539,-815 1687,-815 1687,-851"/>
<g id="a_9_7"><a xlink:href="./speedTrace/calculate_accelerations.html" xlink:title="&quot;Calculate accelerations.&quot;">
<text text-anchor="start" x="1549" y="-828.8" font-family="Times New Roman,serif" font-size="14.00">calculate_accelerations</text>
</a>
</g>
</a>
</g>
</g>
<!-- 433&#45;&gt;430 -->
<g id="edge24" class="edge">
<title>433&#45;&gt;430</title>
<path fill="none" stroke="black" d="M1613,-814.83C1613,-814.83 1613,-789.41 1613,-789.41"/>
<polygon fill="black" stroke="black" points="1616.5,-789.41 1613,-779.41 1609.5,-789.41 1616.5,-789.41"/>
</g>
<!-- 460 -->
<g id="16" class="node">
<title>460</title>
<g id="a_16"><a xlink:title="&quot;The power required to overcome driving resistance and to accelerate.&quot;">
<path fill="cyan" stroke="black" d="M1762,-635C1762,-635 1678,-635 1678,-635 1672,-635 1666,-629 1666,-623 1666,-623 1666,-611 1666,-611 1666,-605 1672,-599 1678,-599 1678,-599 1762,-599 1762,-599 1768,-599 1774,-605 1774,-611 1774,-611 1774,-623 1774,-623 1774,-629 1768,-635 1762,-635"/>
<text text-anchor="start" x="1676" y="-612.8" font-family="Times New Roman,serif" font-size="14.00">requiredPowers</text>
</a>
</g>
</g>
<!-- 434&#45;&gt;460 -->
<g id="edge27" class="edge">
<title>434&#45;&gt;460</title>
<path fill="none" stroke="black" d="M1732.5,-670.83C1732.5,-670.83 1732.5,-645.41 1732.5,-645.41"/>
<polygon fill="black" stroke="black" points="1736,-645.41 1732.5,-635.41 1729,-645.41 1736,-645.41"/>
</g>
<!-- 435 -->
<g id="32" class="node">
<title>435</title>
<g id="a_32"><a xlink:title="&quot;The downscaling factor for the cycle&quot;">
<path fill="cyan" stroke="black" d="M1748,-275C1748,-275 1580,-275 1580,-275 1574,-275 1568,-269 1568,-263 1568,-263 1568,-251 1568,-251 1568,-245 1574,-239 1580,-239 1580,-239 1748,-239 1748,-239 1754,-239 1760,-245 1760,-251 1760,-251 1760,-263 1760,-263 1760,-269 1754,-275 1748,-275"/>
<text text-anchor="start" x="1578.5" y="-252.8" font-family="Times New Roman,serif" font-size="14.00">calculatedDownscalingFactors</text>
</a>
</g>
</g>
<!-- 435&#45;&gt;452 -->
<g id="edge54" class="edge">
<title>435&#45;&gt;452</title>
<path fill="none" stroke="black" d="M1664,-238.91C1664,-199.01 1664,-107 1664,-107 1664,-107 1101.07,-107 1101.07,-107"/>
<polygon fill="black" stroke="black" points="1101.07,-103.5 1091.07,-107 1101.07,-110.5 1101.07,-103.5"/>
</g>
<!-- 437 -->
<g id="38" class="node">
<title>437</title>
<g id="a_38"><a xlink:title="&quot;The boolean array that show the vehicle speeds capped.&quot;">
<path fill="cyan" stroke="black" d="M498,-347C498,-347 460,-347 460,-347 454,-347 448,-341 448,-335 448,-335 448,-323 448,-323 448,-317 454,-311 460,-311 460,-311 498,-311 498,-311 504,-311 510,-317 510,-323 510,-323 510,-335 510,-335 510,-341 504,-347 498,-347"/>
<text text-anchor="start" x="458" y="-324.8" font-family="Times New Roman,serif" font-size="14.00">capped</text>
</a>
</g>
</g>
<!-- 436&#45;&gt;437 -->
<g id="edge57" class="edge">
<title>436&#45;&gt;437</title>
<path fill="none" stroke="black" d="M459,-382.83C459,-382.83 459,-357.41 459,-357.41"/>
<polygon fill="black" stroke="black" points="462.5,-357.41 459,-347.41 455.5,-357.41 462.5,-357.41"/>
</g>
<!-- 439 -->
<g id="39" class="node">
<title>439</title>
<g id="a_39"><a xlink:title="&quot;The vehicle speeds capped according to the maximum value available&quot;">
<path fill="cyan" stroke="black" d="M418,-347C418,-347 298,-347 298,-347 292,-347 286,-341 286,-335 286,-335 286,-323 286,-323 286,-317 292,-311 298,-311 298,-311 418,-311 418,-311 424,-311 430,-317 430,-323 430,-323 430,-335 430,-335 430,-341 424,-347 418,-347"/>
<text text-anchor="start" x="296" y="-324.8" font-family="Times New Roman,serif" font-size="14.00">cappedVehicleSpeeds</text>
</a>
</g>
</g>
<!-- 436&#45;&gt;439 -->
<g id="edge58" class="edge">
<title>436&#45;&gt;439</title>
<path fill="none" stroke="black" d="M412,-382.83C412,-382.83 412,-357.41 412,-357.41"/>
<polygon fill="black" stroke="black" points="415.5,-357.41 412,-347.41 408.5,-357.41 415.5,-357.41"/>
</g>
<!-- 437&#45;&gt;440 -->
<g id="edge62" class="edge">
<title>437&#45;&gt;440</title>
<path fill="none" stroke="black" d="M479,-310.73C479,-292.44 479,-267 479,-267 479,-267 548.98,-267 548.98,-267"/>
<polygon fill="black" stroke="black" points="548.98,-270.5 558.98,-267 548.98,-263.5 548.98,-270.5"/>
</g>
<!-- 438 -->
<g id="46" class="node">
<title>438</title>
<g id="a_46"><a xlink:title="&quot;The boolean array that shows the vehicle speeds capped and compensated&quot;">
<path fill="cyan" stroke="black" d="M828,-203C828,-203 712,-203 712,-203 706,-203 700,-197 700,-191 700,-191 700,-179 700,-179 700,-173 706,-167 712,-167 712,-167 828,-167 828,-167 834,-167 840,-173 840,-179 840,-179 840,-191 840,-191 840,-197 834,-203 828,-203"/>
<text text-anchor="start" x="710.5" y="-180.8" font-family="Times New Roman,serif" font-size="14.00">cappedCompensated</text>
</a>
</g>
</g>
<!-- 438&#45;&gt;452 -->
<g id="edge75" class="edge">
<title>438&#45;&gt;452</title>
<path fill="none" stroke="black" d="M770,-166.89C770,-147.66 770,-120 770,-120 770,-120 938.69,-120 938.69,-120"/>
<polygon fill="black" stroke="black" points="938.69,-123.5 948.69,-120 938.69,-116.5 938.69,-123.5"/>
</g>
<!-- 439&#45;&gt;440 -->
<g id="edge63" class="edge">
<title>439&#45;&gt;440</title>
<path fill="none" stroke="black" d="M403,-310.97C403,-291.42 403,-263 403,-263 403,-263 548.98,-263 548.98,-263"/>
<polygon fill="black" stroke="black" points="548.98,-266.5 558.98,-263 548.98,-259.5 548.98,-266.5"/>
</g>
<!-- 440&#45;&gt;431 -->
<g id="edge69" class="edge">
<title>440&#45;&gt;431</title>
<path fill="none" stroke="black" d="M620.5,-238.83C620.5,-238.83 620.5,-213.41 620.5,-213.41"/>
<polygon fill="black" stroke="black" points="624,-213.41 620.5,-203.41 617,-213.41 624,-213.41"/>
</g>
<!-- 440&#45;&gt;438 -->
<g id="edge68" class="edge">
<title>440&#45;&gt;438</title>
<path fill="none" stroke="black" d="M681.13,-243C695.13,-243 706,-243 706,-243 706,-243 706,-213.03 706,-213.03"/>
<polygon fill="black" stroke="black" points="709.5,-213.03 706,-203.03 702.5,-213.03 709.5,-213.03"/>
</g>
<!-- 441 -->
<g id="42" class="node">
<title>441</title>
<g id="a_42"><a xlink:title="&quot;boolean array&quot;">
<path fill="cyan" stroke="black" d="M942,-203C942,-203 870,-203 870,-203 864,-203 858,-197 858,-191 858,-191 858,-179 858,-179 858,-173 864,-167 870,-167 870,-167 942,-167 942,-167 948,-167 954,-173 954,-179 954,-179 954,-191 954,-191 954,-197 948,-203 942,-203"/>
<text text-anchor="start" x="868.5" y="-180.8" font-family="Times New Roman,serif" font-size="14.00">compensated</text>
</a>
</g>
</g>
<!-- 440&#45;&gt;441 -->
<g id="edge64" class="edge">
<title>440&#45;&gt;441</title>
<path fill="none" stroke="black" d="M681.04,-247C761.24,-247 892,-247 892,-247 892,-247 892,-213.27 892,-213.27"/>
<polygon fill="black" stroke="black" points="895.5,-213.27 892,-203.27 888.5,-213.27 895.5,-213.27"/>
</g>
<!-- 442 -->
<g id="43" class="node">
<title>442</title>
<g id="a_43"><a xlink:title="&quot;The final times after applied compensation&quot;">
<path fill="cyan" stroke="black" d="M150,-203C150,-203 12,-203 12,-203 6,-203 0,-197 0,-191 0,-191 0,-179 0,-179 0,-173 6,-167 12,-167 12,-167 150,-167 150,-167 156,-167 162,-173 162,-179 162,-179 162,-191 162,-191 162,-197 156,-203 150,-203"/>
<text text-anchor="start" x="10" y="-180.8" font-family="Times New Roman,serif" font-size="14.00">compensatedTraceTimes</text>
</a>
</g>
</g>
<!-- 440&#45;&gt;442 -->
<g id="edge65" class="edge">
<title>440&#45;&gt;442</title>
<path fill="none" stroke="black" d="M558.87,-251C420.64,-251 96,-251 96,-251 96,-251 96,-213.03 96,-213.03"/>
<polygon fill="black" stroke="black" points="99.5,-213.03 96,-203.03 92.5,-213.03 99.5,-213.03"/>
</g>
<!-- 443 -->
<g id="44" class="node">
<title>443</title>
<g id="a_44"><a xlink:title="&quot;The vehicle speeds after apply compensation.&quot;">
<path fill="cyan" stroke="black" d="M346,-203C346,-203 192,-203 192,-203 186,-203 180,-197 180,-191 180,-191 180,-179 180,-179 180,-173 186,-167 192,-167 192,-167 346,-167 346,-167 352,-167 358,-173 358,-179 358,-179 358,-191 358,-191 358,-197 352,-203 346,-203"/>
<text text-anchor="start" x="190.5" y="-180.8" font-family="Times New Roman,serif" font-size="14.00">compensatedVehicleSpeeds</text>
</a>
</g>
</g>
<!-- 440&#45;&gt;443 -->
<g id="edge66" class="edge">
<title>440&#45;&gt;443</title>
<path fill="none" stroke="black" d="M558.98,-247C471.79,-247 322,-247 322,-247 322,-247 322,-213.27 322,-213.27"/>
<polygon fill="black" stroke="black" points="325.5,-213.27 322,-203.27 318.5,-213.27 325.5,-213.27"/>
</g>
<!-- 446 -->
<g id="45" class="node">
<title>446</title>
<g id="a_45"><a xlink:title="&quot;The boolean array that shows the vehicle speeds downscaled and compensated&quot;">
<path fill="cyan" stroke="black" d="M530,-203C530,-203 388,-203 388,-203 382,-203 376,-197 376,-191 376,-191 376,-179 376,-179 376,-173 382,-167 388,-167 388,-167 530,-167 530,-167 536,-167 542,-173 542,-179 542,-179 542,-191 542,-191 542,-197 536,-203 530,-203"/>
<text text-anchor="start" x="386.5" y="-180.8" font-family="Times New Roman,serif" font-size="14.00">downscaledCompensated</text>
</a>
</g>
</g>
<!-- 440&#45;&gt;446 -->
<g id="edge67" class="edge">
<title>440&#45;&gt;446</title>
<path fill="none" stroke="black" d="M558.68,-243C545.27,-243 535,-243 535,-243 535,-243 535,-213.03 535,-213.03"/>
<polygon fill="black" stroke="black" points="538.5,-213.03 535,-203.03 531.5,-213.03 538.5,-213.03"/>
</g>
<!-- 441&#45;&gt;452 -->
<g id="edge71" class="edge">
<title>441&#45;&gt;452</title>
<path fill="none" stroke="black" d="M954.1,-185C967.92,-185 979.33,-185 979.33,-185 979.33,-185 979.33,-141.17 979.33,-141.17"/>
<polygon fill="black" stroke="black" points="982.83,-141.17 979.33,-131.17 975.83,-141.17 982.83,-141.17"/>
</g>
<!-- 442&#45;&gt;452 -->
<g id="edge72" class="edge">
<title>442&#45;&gt;452</title>
<path fill="none" stroke="black" d="M81,-166.97C81,-142.02 81,-100 81,-100 81,-100 938.65,-100 938.65,-100"/>
<polygon fill="black" stroke="black" points="938.65,-103.5 948.65,-100 938.65,-96.5 938.65,-103.5"/>
</g>
<!-- 443&#45;&gt;452 -->
<g id="edge73" class="edge">
<title>443&#45;&gt;452</title>
<path fill="none" stroke="black" d="M269,-166.85C269,-143.24 269,-105 269,-105 269,-105 938.67,-105 938.67,-105"/>
<polygon fill="black" stroke="black" points="938.67,-108.5 948.67,-105 938.67,-101.5 938.67,-108.5"/>
</g>
<!-- 444&#45;&gt;435 -->
<g id="edge36" class="edge">
<title>444&#45;&gt;435</title>
<path fill="none" stroke="black" d="M1513.18,-531C1549.22,-531 1589,-531 1589,-531 1589,-531 1589,-285.4 1589,-285.4"/>
<polygon fill="black" stroke="black" points="1592.5,-285.4 1589,-275.4 1585.5,-285.4 1592.5,-285.4"/>
</g>
<!-- 445 -->
<g id="29" class="node">
<title>445</title>
<g id="a_29"><a xlink:title="&quot;The boolean array that show the vehicle speeds downscaled.&quot;">
<path fill="cyan" stroke="black" d="M810,-419C810,-419 746,-419 746,-419 740,-419 734,-413 734,-407 734,-407 734,-395 734,-395 734,-389 740,-383 746,-383 746,-383 810,-383 810,-383 816,-383 822,-389 822,-395 822,-395 822,-407 822,-407 822,-413 816,-419 810,-419"/>
<text text-anchor="start" x="744.5" y="-396.8" font-family="Times New Roman,serif" font-size="14.00">downscaled</text>
</a>
</g>
</g>
<!-- 444&#45;&gt;445 -->
<g id="edge33" class="edge">
<title>444&#45;&gt;445</title>
<path fill="none" stroke="black" d="M1398.96,-535C1238.87,-535 797,-535 797,-535 797,-535 797,-429.07 797,-429.07"/>
<polygon fill="black" stroke="black" points="800.5,-429.07 797,-419.07 793.5,-429.07 800.5,-429.07"/>
</g>
<!-- 447 -->
<g id="30" class="node">
<title>447</title>
<g id="a_30"><a xlink:title="&quot;Contains the speeds of the whole WLTC cycles downscaled.&quot;">
<path fill="cyan" stroke="black" d="M666,-491C666,-491 520,-491 520,-491 514,-491 508,-485 508,-479 508,-479 508,-467 508,-467 508,-461 514,-455 520,-455 520,-455 666,-455 666,-455 672,-455 678,-461 678,-467 678,-467 678,-479 678,-479 678,-485 672,-491 666,-491"/>
<text text-anchor="start" x="518" y="-468.8" font-family="Times New Roman,serif" font-size="14.00">downscaledVehicleSpeeds</text>
</a>
</g>
</g>
<!-- 444&#45;&gt;447 -->
<g id="edge34" class="edge">
<title>444&#45;&gt;447</title>
<path fill="none" stroke="black" d="M1398.71,-539C1205.96,-539 593,-539 593,-539 593,-539 593,-501.03 593,-501.03"/>
<polygon fill="black" stroke="black" points="596.5,-501.03 593,-491.03 589.5,-501.03 596.5,-501.03"/>
</g>
<!-- 448 -->
<g id="33" class="node">
<title>448</title>
<g id="a_33"><a xlink:title="&quot;The downscaling factor for the cycle&quot;">
<path fill="cyan" stroke="black" d="M1275,-419C1275,-419 1171,-419 1171,-419 1165,-419 1159,-413 1159,-407 1159,-407 1159,-395 1159,-395 1159,-389 1165,-383 1171,-383 1171,-383 1275,-383 1275,-383 1281,-383 1287,-389 1287,-395 1287,-395 1287,-407 1287,-407 1287,-413 1281,-419 1275,-419"/>
<text text-anchor="start" x="1169.5" y="-396.8" font-family="Times New Roman,serif" font-size="14.00">downscalingFactor</text>
</a>
</g>
</g>
<!-- 444&#45;&gt;448 -->
<g id="edge37" class="edge">
<title>444&#45;&gt;448</title>
<path fill="none" stroke="black" d="M1437,-526.76C1437,-488.01 1437,-401 1437,-401 1437,-401 1297.21,-401 1297.21,-401"/>
<polygon fill="black" stroke="black" points="1297.21,-397.5 1287.21,-401 1297.21,-404.5 1297.21,-397.5"/>
</g>
<!-- 461 -->
<g id="34" class="node">
<title>461</title>
<g id="a_34"><a xlink:title="&quot;requiredToRatedPowerRatio&quot;">
<path fill="cyan" stroke="black" d="M1332,-275C1332,-275 1174,-275 1174,-275 1168,-275 1162,-269 1162,-263 1162,-263 1162,-251 1162,-251 1162,-245 1168,-239 1174,-239 1174,-239 1332,-239 1332,-239 1338,-239 1344,-245 1344,-251 1344,-251 1344,-263 1344,-263 1344,-269 1338,-275 1332,-275"/>
<text text-anchor="start" x="1172" y="-252.8" font-family="Times New Roman,serif" font-size="14.00">requiredToRatedPowerRatio</text>
</a>
</g>
</g>
<!-- 444&#45;&gt;461 -->
<g id="edge38" class="edge">
<title>444&#45;&gt;461</title>
<path fill="none" stroke="black" d="M1398.78,-531C1362.36,-531 1322,-531 1322,-531 1322,-531 1322,-285.4 1322,-285.4"/>
<polygon fill="black" stroke="black" points="1325.5,-285.4 1322,-275.4 1318.5,-285.4 1325.5,-285.4"/>
</g>
<!-- 462 -->
<g id="31" class="node">
<title>462</title>
<g id="a_31"><a xlink:title="&quot;requiredToRatedPowerRatios&quot;">
<path fill="cyan" stroke="black" d="M1538,-275C1538,-275 1374,-275 1374,-275 1368,-275 1362,-269 1362,-263 1362,-263 1362,-251 1362,-251 1362,-245 1368,-239 1374,-239 1374,-239 1538,-239 1538,-239 1544,-239 1550,-245 1550,-251 1550,-251 1550,-263 1550,-263 1550,-269 1544,-275 1538,-275"/>
<text text-anchor="start" x="1372" y="-252.8" font-family="Times New Roman,serif" font-size="14.00">requiredToRatedPowerRatios</text>
</a>
</g>
</g>
<!-- 444&#45;&gt;462 -->
<g id="edge35" class="edge">
<title>444&#45;&gt;462</title>
<path fill="none" stroke="black" d="M1475,-526.98C1475,-526.98 1475,-285.01 1475,-285.01"/>
<polygon fill="black" stroke="black" points="1478.5,-285.01 1475,-275.01 1471.5,-285.01 1478.5,-285.01"/>
</g>
<!-- 445&#45;&gt;440 -->
<g id="edge50" class="edge">
<title>445&#45;&gt;440</title>
<path fill="none" stroke="black" d="M778,-382.96C778,-345.55 778,-263 778,-263 778,-263 691.09,-263 691.09,-263"/>
<polygon fill="black" stroke="black" points="691.09,-259.5 681.09,-263 691.09,-266.5 691.09,-259.5"/>
</g>
<!-- 446&#45;&gt;452 -->
<g id="edge74" class="edge">
<title>446&#45;&gt;452</title>
<path fill="none" stroke="black" d="M459,-166.84C459,-144.65 459,-110 459,-110 459,-110 938.95,-110 938.95,-110"/>
<polygon fill="black" stroke="black" points="938.95,-113.5 948.95,-110 938.95,-106.5 938.95,-113.5"/>
</g>
<!-- 447&#45;&gt;436 -->
<g id="edge51" class="edge">
<title>447&#45;&gt;436</title>
<path fill="none" stroke="black" d="M516,-454.83C516,-433.5 516,-401 516,-401 516,-401 480.07,-401 480.07,-401"/>
<polygon fill="black" stroke="black" points="480.07,-397.5 470.07,-401 480.07,-404.5 480.07,-397.5"/>
</g>
<!-- 447&#45;&gt;440 -->
<g id="edge52" class="edge">
<title>447&#45;&gt;440</title>
<path fill="none" stroke="black" d="M522,-454.72C522,-404.99 522,-271 522,-271 522,-271 548.77,-271 548.77,-271"/>
<polygon fill="black" stroke="black" points="548.77,-274.5 558.77,-271 548.77,-267.5 548.77,-274.5"/>
</g>
<!-- 448&#45;&gt;452 -->
<g id="edge55" class="edge">
<title>448&#45;&gt;452</title>
<path fill="none" stroke="black" d="M1158.58,-401C1113.88,-401 1062.33,-401 1062.33,-401 1062.33,-401 1062.33,-141.02 1062.33,-141.02"/>
<polygon fill="black" stroke="black" points="1065.83,-141.02 1062.33,-131.02 1058.83,-141.02 1065.83,-141.02"/>
</g>
<!-- 449 -->
<g id="13" class="node">
<title>449</title>
<g id="a_13"><a xlink:title="&quot;Represents the constant road load coefficient, i.e.&quot;">
<path fill="cyan" stroke="black" d="M1720,-779C1720,-779 1690,-779 1690,-779 1684,-779 1678,-773 1678,-767 1678,-767 1678,-755 1678,-755 1678,-749 1684,-743 1690,-743 1690,-743 1720,-743 1720,-743 1726,-743 1732,-749 1732,-755 1732,-755 1732,-767 1732,-767 1732,-773 1726,-779 1720,-779"/>
<text text-anchor="start" x="1699" y="-756.8" font-family="Times New Roman,serif" font-size="14.00">f0</text>
</a>
</g>
</g>
<!-- 449&#45;&gt;434 -->
<g id="edge29" class="edge">
<title>449&#45;&gt;434</title>
<path fill="none" stroke="black" d="M1711.5,-742.83C1711.5,-742.83 1711.5,-717.41 1711.5,-717.41"/>
<polygon fill="black" stroke="black" points="1715,-717.41 1711.5,-707.41 1708,-717.41 1715,-717.41"/>
</g>
<!-- 450 -->
<g id="14" class="node">
<title>450</title>
<g id="a_14"><a xlink:title="&quot;Represents the linear road load coefficient, i.e.&quot;">
<path fill="cyan" stroke="black" d="M1792,-779C1792,-779 1762,-779 1762,-779 1756,-779 1750,-773 1750,-767 1750,-767 1750,-755 1750,-755 1750,-749 1756,-743 1762,-743 1762,-743 1792,-743 1792,-743 1798,-743 1804,-749 1804,-755 1804,-755 1804,-767 1804,-767 1804,-773 1798,-779 1792,-779"/>
<text text-anchor="start" x="1771" y="-756.8" font-family="Times New Roman,serif" font-size="14.00">f1</text>
</a>
</g>
</g>
<!-- 450&#45;&gt;434 -->
<g id="edge30" class="edge">
<title>450&#45;&gt;434</title>
<path fill="none" stroke="black" d="M1777,-742.83C1777,-742.83 1777,-717.41 1777,-717.41"/>
<polygon fill="black" stroke="black" points="1780.5,-717.41 1777,-707.41 1773.5,-717.41 1780.5,-717.41"/>
</g>
<!-- 451 -->
<g id="15" class="node">
<title>451</title>
<g id="a_15"><a xlink:title="&quot;Represents the exponential road load coefficient, i.e.&quot;">
<path fill="cyan" stroke="black" d="M1864,-779C1864,-779 1834,-779 1834,-779 1828,-779 1822,-773 1822,-767 1822,-767 1822,-755 1822,-755 1822,-749 1828,-743 1834,-743 1834,-743 1864,-743 1864,-743 1870,-743 1876,-749 1876,-755 1876,-755 1876,-767 1876,-767 1876,-773 1870,-779 1864,-779"/>
<text text-anchor="start" x="1843" y="-756.8" font-family="Times New Roman,serif" font-size="14.00">f2</text>
</a>
</g>
</g>
<!-- 451&#45;&gt;434 -->
<g id="edge31" class="edge">
<title>451&#45;&gt;434</title>
<path fill="none" stroke="black" d="M1842.5,-742.83C1842.5,-742.83 1842.5,-717.41 1842.5,-717.41"/>
<polygon fill="black" stroke="black" points="1846,-717.41 1842.5,-707.41 1839,-717.41 1846,-717.41"/>
</g>
<!-- 464 -->
<g id="49" class="node">
<title>464</title>
<g id="a_49"><a xlink:title="&quot;requiredToRatedPowerRatio&quot;">
<path fill="cyan" stroke="black" d="M1052,-59C1052,-59 988,-59 988,-59 982,-59 976,-53 976,-47 976,-47 976,-35 976,-35 976,-29 982,-23 988,-23 988,-23 1052,-23 1052,-23 1058,-23 1064,-29 1064,-35 1064,-35 1064,-47 1064,-47 1064,-53 1058,-59 1052,-59"/>
<text text-anchor="start" x="986" y="-36.8" font-family="Times New Roman,serif" font-size="14.00">speed_trace</text>
</a>
</g>
</g>
<!-- 452&#45;&gt;464 -->
<g id="edge77" class="edge">
<title>452&#45;&gt;464</title>
<path fill="none" stroke="black" d="M1020,-94.83C1020,-94.83 1020,-69.41 1020,-69.41"/>
<polygon fill="black" stroke="black" points="1023.5,-69.41 1020,-59.41 1016.5,-69.41 1023.5,-69.41"/>
</g>
<!-- 457 -->
<g id="8" class="node">
<title>457</title>
<g id="a_8"><a xlink:title="&quot;The position of the end of each cycle.&quot;">
<path fill="cyan" stroke="black" d="M914,-347C914,-347 856,-347 856,-347 850,-347 844,-341 844,-335 844,-335 844,-323 844,-323 844,-317 850,-311 856,-311 856,-311 914,-311 914,-311 920,-311 926,-317 926,-323 926,-323 926,-335 926,-335 926,-341 920,-347 914,-347"/>
<text text-anchor="start" x="854.5" y="-324.8" font-family="Times New Roman,serif" font-size="14.00">phaseEnds</text>
</a>
</g>
</g>
<!-- 453&#45;&gt;457 -->
<g id="edge16" class="edge">
<title>453&#45;&gt;457</title>
<path fill="none" stroke="black" d="M902,-382.83C902,-382.83 902,-357.41 902,-357.41"/>
<polygon fill="black" stroke="black" points="905.5,-357.41 902,-347.41 898.5,-357.41 905.5,-357.41"/>
</g>
<!-- 458 -->
<g id="7" class="node">
<title>458</title>
<g id="a_7"><a xlink:title="&quot;The position of the beginning of each cycle.&quot;">
<path fill="cyan" stroke="black" d="M1018,-347C1018,-347 956,-347 956,-347 950,-347 944,-341 944,-335 944,-335 944,-323 944,-323 944,-317 950,-311 956,-311 956,-311 1018,-311 1018,-311 1024,-311 1030,-317 1030,-323 1030,-323 1030,-335 1030,-335 1030,-341 1024,-347 1018,-347"/>
<text text-anchor="start" x="954.5" y="-324.8" font-family="Times New Roman,serif" font-size="14.00">phaseStarts</text>
</a>
</g>
</g>
<!-- 453&#45;&gt;458 -->
<g id="edge15" class="edge">
<title>453&#45;&gt;458</title>
<path fill="none" stroke="black" d="M965,-382.83C965,-382.83 965,-357.41 965,-357.41"/>
<polygon fill="black" stroke="black" points="968.5,-357.41 965,-347.41 961.5,-357.41 968.5,-357.41"/>
</g>
<!-- 454 -->
<g id="2" class="node">
<title>454</title>
<g id="a_2"><a xlink:title="&quot;Contains the times of the whole WLTC cycles.&quot;">
<path fill="cyan" stroke="black" d="M796,-923C796,-923 692,-923 692,-923 686,-923 680,-917 680,-911 680,-911 680,-899 680,-899 680,-893 686,-887 692,-887 692,-887 796,-887 796,-887 802,-887 808,-893 808,-899 808,-899 808,-911 808,-911 808,-917 802,-923 796,-923"/>
<text text-anchor="start" x="690" y="-900.8" font-family="Times New Roman,serif" font-size="14.00">originalTraceTimes</text>
</a>
</g>
</g>
<!-- 454&#45;&gt;433 -->
<g id="edge6" class="edge">
<title>454&#45;&gt;433</title>
<path fill="none" stroke="black" d="M790,-886.83C790,-865.5 790,-833 790,-833 790,-833 1528.88,-833 1528.88,-833"/>
<polygon fill="black" stroke="black" points="1528.88,-836.5 1538.88,-833 1528.88,-829.5 1528.88,-836.5"/>
</g>
<!-- 454&#45;&gt;440 -->
<g id="edge8" class="edge">
<title>454&#45;&gt;440</title>
<path fill="none" stroke="black" d="M723,-886.71C723,-782.76 723,-271 723,-271 723,-271 691.11,-271 691.11,-271"/>
<polygon fill="black" stroke="black" points="691.11,-267.5 681.11,-271 691.11,-274.5 691.11,-267.5"/>
</g>
<!-- 454&#45;&gt;444 -->
<g id="edge7" class="edge">
<title>454&#45;&gt;444</title>
<path fill="none" stroke="black" d="M759.33,-886.55C759.33,-812.78 759.33,-543 759.33,-543 759.33,-543 1388.99,-543 1388.99,-543"/>
<polygon fill="black" stroke="black" points="1388.99,-546.5 1398.99,-543 1388.99,-539.5 1388.99,-546.5"/>
</g>
<!-- 454&#45;&gt;452 -->
<g id="edge9" class="edge">
<title>454&#45;&gt;452</title>
<path fill="none" stroke="black" d="M808.01,-905C894.77,-905 1039,-905 1039,-905 1039,-905 1039,-141.03 1039,-141.03"/>
<polygon fill="black" stroke="black" points="1042.5,-141.03 1039,-131.03 1035.5,-141.03 1042.5,-141.03"/>
</g>
<!-- 454&#45;&gt;453 -->
<g id="edge5" class="edge">
<title>454&#45;&gt;453</title>
<path fill="none" stroke="black" d="M746.67,-886.94C746.67,-800.93 746.67,-437 746.67,-437 746.67,-437 915.67,-437 915.67,-437 915.67,-437 915.67,-429.42 915.67,-429.42"/>
<polygon fill="black" stroke="black" points="919.17,-429.42 915.67,-419.42 912.17,-429.42 919.17,-429.42"/>
</g>
<!-- 455 -->
<g id="4" class="node">
<title>455</title>
<g id="a_4"><a xlink:title="&quot;The original length of the trace time&quot;">
<path fill="cyan" stroke="black" d="M180,-851C180,-851 42,-851 42,-851 36,-851 30,-845 30,-839 30,-839 30,-827 30,-827 30,-821 36,-815 42,-815 42,-815 180,-815 180,-815 186,-815 192,-821 192,-827 192,-827 192,-839 192,-839 192,-845 186,-851 180,-851"/>
<text text-anchor="start" x="40" y="-828.8" font-family="Times New Roman,serif" font-size="14.00">originalTraceTimesCount</text>
</a>
</g>
</g>
<!-- 455&#45;&gt;440 -->
<g id="edge14" class="edge">
<title>455&#45;&gt;440</title>
<path fill="none" stroke="black" d="M186,-814.75C186,-716.5 186,-255 186,-255 186,-255 548.74,-255 548.74,-255"/>
<polygon fill="black" stroke="black" points="548.74,-258.5 558.74,-255 548.74,-251.5 548.74,-258.5"/>
</g>
<!-- 456 -->
<g id="3" class="node">
<title>456</title>
<g id="a_3"><a xlink:title="&quot;Contains the speeds of the whole WLTC cycles.&quot;">
<path fill="cyan" stroke="black" d="M2100,-923C2100,-923 1980,-923 1980,-923 1974,-923 1968,-917 1968,-911 1968,-911 1968,-899 1968,-899 1968,-893 1974,-887 1980,-887 1980,-887 2100,-887 2100,-887 2106,-887 2112,-893 2112,-899 2112,-899 2112,-911 2112,-911 2112,-917 2106,-923 2100,-923"/>
<text text-anchor="start" x="1978" y="-900.8" font-family="Times New Roman,serif" font-size="14.00">originalVehicleSpeeds</text>
</a>
</g>
</g>
<!-- 456&#45;&gt;433 -->
<g id="edge10" class="edge">
<title>456&#45;&gt;433</title>
<path fill="none" stroke="black" d="M1990,-886.83C1990,-865.5 1990,-833 1990,-833 1990,-833 1697.03,-833 1697.03,-833"/>
<polygon fill="black" stroke="black" points="1697.03,-829.5 1687.03,-833 1697.03,-836.5 1697.03,-829.5"/>
</g>
<!-- 456&#45;&gt;434 -->
<g id="edge11" class="edge">
<title>456&#45;&gt;434</title>
<path fill="none" stroke="black" d="M1967.86,-896C1901.39,-896 1813,-896 1813,-896 1813,-896 1813,-717.01 1813,-717.01"/>
<polygon fill="black" stroke="black" points="1816.5,-717.01 1813,-707.01 1809.5,-717.01 1816.5,-717.01"/>
</g>
<!-- 456&#45;&gt;444 -->
<g id="edge12" class="edge">
<title>456&#45;&gt;444</title>
<path fill="none" stroke="black" d="M2027,-886.75C2027,-813.8 2027,-547 2027,-547 2027,-547 1523.1,-547 1523.1,-547"/>
<polygon fill="black" stroke="black" points="1523.1,-543.5 1513.1,-547 1523.1,-550.5 1523.1,-543.5"/>
</g>
<!-- 456&#45;&gt;452 -->
<g id="edge13" class="edge">
<title>456&#45;&gt;452</title>
<path fill="none" stroke="black" d="M1967.93,-914C1739.03,-914 1043.5,-914 1043.5,-914 1043.5,-914 1043.5,-141.23 1043.5,-141.23"/>
<polygon fill="black" stroke="black" points="1047,-141.23 1043.5,-131.23 1040,-141.24 1047,-141.23"/>
</g>
<!-- 457&#45;&gt;440 -->
<g id="edge22" class="edge">
<title>457&#45;&gt;440</title>
<path fill="none" stroke="black" d="M848.67,-310.71C848.67,-288.79 848.67,-255 848.67,-255 848.67,-255 691.28,-255 691.28,-255"/>
<polygon fill="black" stroke="black" points="691.28,-251.5 681.28,-255 691.28,-258.5 691.28,-251.5"/>
</g>
<!-- 457&#45;&gt;452 -->
<g id="edge23" class="edge">
<title>457&#45;&gt;452</title>
<path fill="none" stroke="black" d="M853.33,-310.9C853.33,-260.97 853.33,-125 853.33,-125 853.33,-125 938.83,-125 938.83,-125"/>
<polygon fill="black" stroke="black" points="938.83,-128.5 948.83,-125 938.83,-121.5 938.83,-128.5"/>
</g>
<!-- 458&#45;&gt;440 -->
<g id="edge20" class="edge">
<title>458&#45;&gt;440</title>
<path fill="none" stroke="black" d="M949,-310.91C949,-287.87 949,-251 949,-251 949,-251 691.11,-251 691.11,-251"/>
<polygon fill="black" stroke="black" points="691.11,-247.5 681.11,-251 691.11,-254.5 691.11,-247.5"/>
</g>
<!-- 458&#45;&gt;452 -->
<g id="edge21" class="edge">
<title>458&#45;&gt;452</title>
<path fill="none" stroke="black" d="M1004.67,-310.96C1004.67,-310.96 1004.67,-141.15 1004.67,-141.15"/>
<polygon fill="black" stroke="black" points="1008.17,-141.15 1004.67,-131.15 1001.17,-141.15 1008.17,-141.15"/>
</g>
<!-- 459 -->
<g id="18" class="node">
<title>459</title>
<g id="a_18"><a xlink:title="&quot;Factor to determine the downscaling factor&quot;">
<path fill="cyan" stroke="black" d="M1834,-635C1834,-635 1804,-635 1804,-635 1798,-635 1792,-629 1792,-623 1792,-623 1792,-611 1792,-611 1792,-605 1798,-599 1804,-599 1804,-599 1834,-599 1834,-599 1840,-599 1846,-605 1846,-611 1846,-611 1846,-623 1846,-623 1846,-629 1840,-635 1834,-635"/>
<text text-anchor="start" x="1813" y="-612.8" font-family="Times New Roman,serif" font-size="14.00">r0</text>
</a>
</g>
</g>
<!-- 459&#45;&gt;444 -->
<g id="edge39" class="edge">
<title>459&#45;&gt;444</title>
<path fill="none" stroke="black" d="M1819,-598.73C1819,-580.44 1819,-555 1819,-555 1819,-555 1523.12,-555 1523.12,-555"/>
<polygon fill="black" stroke="black" points="1523.12,-551.5 1513.12,-555 1523.12,-558.5 1523.12,-551.5"/>
</g>
<!-- 460&#45;&gt;444 -->
<g id="edge32" class="edge">
<title>460&#45;&gt;444</title>
<path fill="none" stroke="black" d="M1713,-598.97C1713,-581.94 1713,-559 1713,-559 1713,-559 1523.04,-559 1523.04,-559"/>
<polygon fill="black" stroke="black" points="1523.04,-555.5 1513.04,-559 1523.04,-562.5 1523.04,-555.5"/>
</g>
<!-- 461&#45;&gt;452 -->
<g id="edge56" class="edge">
<title>461&#45;&gt;452</title>
<path fill="none" stroke="black" d="M1161.99,-267C1118.88,-267 1076.67,-267 1076.67,-267 1076.67,-267 1076.67,-141.27 1076.67,-141.27"/>
<polygon fill="black" stroke="black" points="1080.17,-141.27 1076.67,-131.27 1073.17,-141.27 1080.17,-141.27"/>
</g>
<!-- 462&#45;&gt;452 -->
<g id="edge53" class="edge">
<title>462&#45;&gt;452</title>
<path fill="none" stroke="black" d="M1456,-238.96C1456,-201.55 1456,-119 1456,-119 1456,-119 1101.02,-119 1101.02,-119"/>
<polygon fill="black" stroke="black" points="1101.02,-115.5 1091.02,-119 1101.02,-122.5 1101.02,-115.5"/>
</g>
<!-- 463&#45;&gt;454 -->
<g id="edge1" class="edge">
<title>463&#45;&gt;454</title>
<path fill="none" stroke="black" d="M744,-958.83C744,-958.83 744,-933.41 744,-933.41"/>
<polygon fill="black" stroke="black" points="747.5,-933.41 744,-923.41 740.5,-933.41 747.5,-933.41"/>
</g>
<!-- 463&#45;&gt;455 -->
<g id="edge3" class="edge">
<title>463&#45;&gt;455</title>
<path fill="none" stroke="black" d="M690.85,-977C538.48,-977 111,-977 111,-977 111,-977 111,-861.24 111,-861.24"/>
<polygon fill="black" stroke="black" points="114.5,-861.24 111,-851.24 107.5,-861.24 114.5,-861.24"/>
</g>
<!-- 463&#45;&gt;456 -->
<g id="edge2" class="edge">
<title>463&#45;&gt;456</title>
<path fill="none" stroke="black" d="M797.22,-977C1041.09,-977 2040,-977 2040,-977 2040,-977 2040,-933.17 2040,-933.17"/>
<polygon fill="black" stroke="black" points="2043.5,-933.17 2040,-923.17 2036.5,-933.17 2043.5,-933.17"/>
</g>
</g>
</svg>
</div>

<script>
    var id, hist = {i: -1, list: []}, isFull;

    function FullScreen() {
        var el = document.getElementById("btnFullScreen");
        if (isFull) {
            closeFullscreen();
            isFull = false;
            el.setAttribute('class', el.getAttribute('class').replace("sh-ico-compress", "sh-ico-expand"));
        } else {
            openFullscreen();
            isFull = true;
            el.setAttribute('class', el.getAttribute('class').replace("sh-ico-expand", "sh-ico-compress"));
        }
    }

    function getURLParam(name) {
        var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
        if (results == null) {
            return null;
        } else {
            return decodeURI(results[1]) || 0;
        }
    }

    function setURLParam(key, value) {
        let uri = window.location.href,
            re = new RegExp("([?&])" + key + "=.*?(&|$)", "i"),
            separator = uri.indexOf('?') !== -1 ? "&" : "?";
        if (uri.match(re)) {
            return uri.replace(re, '$1' + key + "=" + encodeURI(value) + '$2');
        } else {
            return uri + separator + key + "=" + encodeURI(value);
        }
    }

    function iframeLoad(e) {
        e.preventDefault();
        document.getElementById("iframe").contentWindow.postMessage({
            id: id,
            action: 'id'
        }, '*');
    }

    function onBack(e) {
        e.preventDefault();
        if (hist.i > 0) {
            hist.i--;
            setIframe(hist.list[hist.i])
        }
    }

    function onForward(e) {
        e.preventDefault();
        if (hist.i + 1 < hist.list.length) {
            hist.i++;
            setIframe(hist.list[hist.i])
        }
    }

    function setIframe(src) {
        document.getElementById("iframe").src = src
    }

    function closeFullscreen() {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.mozCancelFullScreen) { /* Firefox */
            document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
            document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) { /* IE/Edge */
            document.msExitFullscreen();
        }
    }

    function isFullscreenSupported() {
        let elem = document.body;
        return elem.requestFullscreen || elem.mozRequestFullScreen || elem.webkitRequestFullscreen || elem.msRequestFullscreen
    }

    function openFullscreen() {
        let elem = document.body;
        if (elem.requestFullscreen) {
            elem.requestFullscreen()
        } else if (elem.mozRequestFullScreen) { /* Firefox */
            elem.mozRequestFullScreen()
        } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
            elem.webkitRequestFullscreen()
        } else if (elem.msRequestFullscreen) { /* IE/Edge */
            elem.msRequestFullscreen()
        }
    }

    function _onload() {
        if (getURLParam("controls") === "true") {
            document.getElementById("iframe").onload = iframeLoad;
            document.getElementById("index").style.display = "flex";
            if (isFullscreenSupported())
                document.getElementById("btnFullScreen").style.display = "inline-block";
            id = Date.now();
            setIframe(setURLParam("controls", "false"));
            window.addEventListener('message', function (event) {
                if (event.data.id === id) {
                    if (event.data.action === 'url') {
                        let href = event.data.url;
                        if (hist.list[hist.i] !== href) {
                            hist.i++;
                            hist.list = hist.list.slice(0, hist.i);
                            hist.list.push(href);
                        }
                        if (hist.i > 0) {
                            document.getElementById("btnBack").style.opacity = "1"
                        } else {
                            document.getElementById("btnBack").style.opacity = "0.5"
                        }
                        if (hist.i + 1 < hist.list.length) {
                            document.getElementById("btnForward").style.opacity = "1"
                        } else {
                            document.getElementById("btnForward").style.opacity = "0.5"
                        }
                    }
                }
            });
        } else {
            refreshIntervalId = setInterval(sendUrl, 100);
            setTimeout(function () {
                clearInterval(refreshIntervalId)
            }, 30000);
            document.getElementById("content").style.display = "block";
            var el = document.getElementById(getURLParam("id") || 'graph0');
            if (el)
                if (el.getAttribute('class').indexOf('node') !== -1) {
                    var bound = el.getBoundingClientRect();
                    window.scrollTo((bound.left + bound.right) / 2 - document.body.offsetWidth / 2, (bound.top + bound.bottom) / 2 - document.body.offsetHeight / 2);
                    el.setAttribute('class', el.getAttribute('class') + " on");
                } else if (el.getAttribute('class').indexOf('graph') !== -1) {
                    el.parentNode.setAttribute('class', el.parentNode.getAttribute('class') + " on");
                }
        }
    }

    function getParentOrigin() {
        try {
            return parent.window.origin || "null";
        } catch (exception) {
            return "null"
        }
    }

    function sendUrl() {
        if (parent_iframe_id !== null && window.location.href !== url) {
            url = window.location.href;
            parent.postMessage({
                id: parent_iframe_id,
                url: url,
                action: 'url'
            }, '*');
            clearInterval(refreshIntervalId);
        }
    }

    var parent_iframe_id = null, url = null, refreshIntervalId;
    window.addEventListener('message', function (event) {
        var origin = event.origin === 'file:' ? 'null' : (event.origin || 'null');
        if (origin === getParentOrigin())
            if (parent_iframe_id === null && event.data.action === 'id') {
                parent_iframe_id = event.data.id
            }
    });
</script>
</body>
</html>